# Default Configuration File

data:
  dataset_name: "pmoe7/SP_500_Stocks_Data-ratios_news_price_10_yrs"
  train_split: 0.7
  val_split: 0.15
  test_split: 0.15
  context_length: 60  # Брой дни история (намалено от 90 за по-бързо обучение)
  prediction_horizon: 1  # Брой дни за прогноза
  tickers:
    - "AAPL"
    - "MSFT"
    - "GOOGL"
    - "AMZN"
    - "META"
  start_date: "2010-01-01"
  end_date: null
  
  features:
    technical_indicators: true
    lag_features: true
    temporal_features: true
    simplified: true  # Използва опростена версия с ~15-20 features вместо 59
    normalize: true  # Нормализира features и target заедно
    normalize_method: "standard"  # standard или minmax
    windows: [5, 10, 20, 50]  # Windows за moving averages (използва се само ако simplified=false)

model:
  type: "transformer"  # transformer, lstm, linear
  d_model: 128  # Намалено от 256 за по-бързо обучение
  n_heads: 4  # Намалено от 8 за по-бързо обучение
  n_layers: 4  # Намалено от 6 за по-бързо обучение
  d_ff: 512  # Намалено от 1024 за по-бързо обучение
  dropout: 0.1
  activation: "gelu"

training:
  batch_size: 64  # Увеличено от 32 за по-бързо обучение
  learning_rate: 0.0001
  num_epochs: 50  # Намалено от 100 за по-бързо обучение
  optimizer: "adam"
  optimizer_params:
    betas: [0.9, 0.999]
    weight_decay: 0.01
  scheduler: "cosine"
  gradient_clip: 1.0
  early_stopping:
    patience: 5  # Намалено от 10 за по-бързо спиране ако няма подобрение
    min_delta: 0.0001
  
  device: "cuda"  # cuda или cpu

evaluation:
  metrics: ["mae", "rmse", "mape", "r2", "directional_accuracy"]
  save_predictions: true
  visualize: true

# Backtest / симулация с пари
simulation:
  initial_capital: 100000.0       # Начален капитал (лв/долар)
  position_size_pct: 1.0          # Колко от капитала на една сделка (1.0 = 100%, само една позиция)
  entry_threshold_pct: 0.5        # Влизаме long ако pred_price > current_price * (1 + entry_threshold_pct/100)
  exit_threshold_pct: -0.5        # Излизаме ако pred_price < current_price * (1 + exit_threshold_pct/100)
  commission_pct: 0.1             # Комисионна в % на сделка (купуване + продажба)
  risk_free_rate_annual: 0.03     # За Sharpe ratio (годова безрискова лихва)

paths:
  data_dir: "data"
  models_dir: "models/checkpoints"
  results_dir: "results"
